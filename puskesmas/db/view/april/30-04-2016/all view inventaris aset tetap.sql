CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `get_laporan_inv` AS select `mst_inv_barang`.`uraian` AS `uraian`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '01'),`inv_inventaris_barang_a`.`status_sertifikat_nomor`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '02'),ifnull(`inv_inventaris_barang_b`.`nomor_bpkb`,`inv_inventaris_barang_b`.`no_polisi`),if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '03'),ifnull(`inv_inventaris_barang_c`.`dokumen_nomor`,`inv_inventaris_barang_c`.`nomor_kode_tanah`),if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '04'),ifnull(`inv_inventaris_barang_d`.`dokumen_nomor`,`inv_inventaris_barang_d`.`nomor_kode_tanah`),if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '06'),`inv_inventaris_barang_f`.`dokumen_nomor`,'-'))))) AS `nobukti`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '02'),`bahan_b`.`value`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '03'),`bahan_c`.`value`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '05'),`bahan_e`.`value`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '06'),`bahan_f`.`value`,'-')))) AS `bahan`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '01'),`inv_inventaris_barang_a`.`luas`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '02'),`inv_inventaris_barang_b`.`ukuran_barang`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '03'),`inv_inventaris_barang_c`.`luas_lantai`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '04'),`inv_inventaris_barang_d`.`luas`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '05'),`inv_inventaris_barang_e`.`flora_fauna_ukuran`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '06'),`inv_inventaris_barang_f`.`luas`,'-')))))) AS `ukuran`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '01'),`luas_a`.`value`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '02'),`luas_b`.`value`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '05'),`luas_e`.`value`,'-'))) AS `satuan`,if((left(`inv_inventaris_barang`.`id_mst_inv_barang`,2) = '02'),`inv_inventaris_barang_b`.`merek_type`,'-') AS `merk`,`keadaan`.`value` AS `keadaan`,ifnull(`asal`.`value`,'-') AS `asal`,`inv_inventaris_barang`.`id_inventaris_barang` AS `id_inventaris_barang`,`inv_inventaris_barang`.`register` AS `register`,`inv_inventaris_barang`.`id_mst_inv_barang` AS `id_mst_inv_barang`,`inv_inventaris_barang`.`id_pengadaan` AS `id_pengadaan`,`inv_inventaris_barang`.`pilihan_keadaan_barang` AS `pilihan_keadaan_barang`,`inv_inventaris_barang`.`nama_barang` AS `nama_barang`,`inv_inventaris_barang`.`pilihan_komponen` AS `pilihan_komponen`,`inv_inventaris_barang`.`harga` AS `harga`,`inv_inventaris_barang`.`keterangan_pengadaan` AS `keterangan_pengadaan`,`inv_inventaris_barang`.`pilihan_status_invetaris` AS `pilihan_status_invetaris`,`inv_inventaris_barang`.`tanggal_pembelian` AS `tanggal_pembelian`,`inv_inventaris_barang`.`foto_barang` AS `foto_barang`,`inv_inventaris_barang`.`barang_kembar_proc` AS `barang_kembar_proc`,`inv_inventaris_barang`.`keterangan_inventory` AS `keterangan_inventory`,`inv_inventaris_barang`.`tanggal_pengadaan` AS `tanggal_pengadaan`,`inv_inventaris_barang`.`tanggal_diterima` AS `tanggal_diterima`,`inv_inventaris_barang`.`tanggal_dihapus` AS `tanggal_dihapus`,`inv_inventaris_barang`.`alasan_penghapusan` AS `alasan_penghapusan`,`inv_inventaris_barang`.`pilihan_asal` AS `pilihan_asal`,`inv_inventaris_barang`.`waktu_dibuat` AS `waktu_dibuat`,`inv_inventaris_barang`.`terakhir_diubah` AS `terakhir_diubah`,`inv_inventaris_barang`.`code_cl_phc` AS `code_cl_phc`,count(`inv_inventaris_barang`.`id_inventaris_barang`) AS `jumlah` from ((((((((((((((((`inv_inventaris_barang` left join `mst_inv_barang` on((`inv_inventaris_barang`.`id_mst_inv_barang` = `mst_inv_barang`.`code`))) left join `inv_inventaris_barang_a` on((`inv_inventaris_barang_a`.`id_inventaris_barang` = `inv_inventaris_barang`.`id_inventaris_barang`))) left join `inv_inventaris_barang_b` on((`inv_inventaris_barang_b`.`id_inventaris_barang` = `inv_inventaris_barang`.`id_inventaris_barang`))) left join `inv_inventaris_barang_c` on((`inv_inventaris_barang_c`.`id_inventaris_barang` = `inv_inventaris_barang`.`id_inventaris_barang`))) left join `inv_inventaris_barang_d` on((`inv_inventaris_barang_d`.`id_inventaris_barang` = `inv_inventaris_barang`.`id_inventaris_barang`))) left join `inv_inventaris_barang_e` on((`inv_inventaris_barang_e`.`id_inventaris_barang` = `inv_inventaris_barang`.`id_inventaris_barang`))) left join `inv_inventaris_barang_f` on((`inv_inventaris_barang_f`.`id_inventaris_barang` = `inv_inventaris_barang`.`id_inventaris_barang`))) left join `mst_inv_pilihan` `bahan_b` on(((convert(`inv_inventaris_barang_b`.`pilihan_bahan` using utf8) = `bahan_b`.`code`) and (`bahan_b`.`tipe` = 'bahan')))) left join `mst_inv_pilihan` `bahan_c` on(((convert(`inv_inventaris_barang_c`.`pilihan_kons_beton` using utf8) = `bahan_c`.`code`) and (`bahan_c`.`tipe` = 'kons_beton')))) left join `mst_inv_pilihan` `bahan_e` on(((convert(`inv_inventaris_barang_e`.`pilihan_budaya_bahan` using utf8) = `bahan_e`.`code`) and (`bahan_e`.`tipe` = 'bahan')))) left join `mst_inv_pilihan` `bahan_f` on(((convert(`inv_inventaris_barang_f`.`pilihan_konstruksi_beton` using utf8) = `bahan_f`.`code`) and (`bahan_f`.`tipe` = 'kons_beton')))) left join `mst_inv_pilihan` `luas_a` on(((convert(`inv_inventaris_barang_a`.`pilihan_satuan_barang` using utf8) = `luas_a`.`code`) and (`luas_a`.`tipe` = 'satuan')))) left join `mst_inv_pilihan` `luas_b` on(((convert(`inv_inventaris_barang_b`.`pilihan_satuan` using utf8) = `luas_b`.`code`) and (`luas_b`.`tipe` = 'satuan')))) left join `mst_inv_pilihan` `luas_e` on(((convert(`inv_inventaris_barang_e`.`pilihan_satuan` using utf8) = `luas_e`.`code`) and (`luas_e`.`tipe` = 'satuan')))) left join `mst_inv_pilihan` `keadaan` on(((convert(`inv_inventaris_barang`.`pilihan_keadaan_barang` using utf8) = `keadaan`.`code`) and (`keadaan`.`tipe` = 'keadaan_barang')))) left join `mst_inv_pilihan` `asal` on(((convert(`inv_inventaris_barang`.`pilihan_asal` using utf8) = `asal`.`code`) and (`asal`.`tipe` = 'asal_usul')))) group by `inv_inventaris_barang`.`barang_kembar_proc`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `get_all_inventaris2` AS (select `inv_inventaris_distribusi`.`id_ruangan` AS `id_ruangan`,`inv_inventaris_distribusi`.`id_cl_phc` AS `id_cl_phc`,`inv_inventaris_barang`.`register` AS `register`,`cl_phc`.`value` AS `puskesmas`,`mst_inv_ruangan`.`nama_ruangan` AS `nama_ruangan`,`mst_inv_pilihan`.`value` AS `value`,`inv_inventaris_barang`.`id_inventaris_barang` AS `id_inventaris_barang`,`inv_inventaris_barang`.`id_mst_inv_barang` AS `id_mst_inv_barang`,`inv_inventaris_barang`.`id_pengadaan` AS `id_pengadaan`,`inv_inventaris_barang`.`pilihan_keadaan_barang` AS `pilihan_keadaan_barang`,`inv_inventaris_barang`.`nama_barang` AS `nama_barang`,`inv_inventaris_barang`.`pilihan_komponen` AS `pilihan_komponen`,`inv_inventaris_barang`.`harga` AS `harga`,`inv_inventaris_barang`.`keterangan_pengadaan` AS `keterangan_pengadaan`,`inv_inventaris_barang`.`pilihan_status_invetaris` AS `pilihan_status_invetaris`,`inv_inventaris_barang`.`tanggal_pembelian` AS `tanggal_pembelian`,`inv_inventaris_barang`.`foto_barang` AS `foto_barang`,`inv_inventaris_barang`.`barang_kembar_proc` AS `barang_kembar_proc`,`inv_inventaris_barang`.`keterangan_inventory` AS `keterangan_inventory`,`inv_inventaris_barang`.`tanggal_pengadaan` AS `tanggal_pengadaan`,`inv_inventaris_barang`.`tanggal_diterima` AS `tanggal_diterima`,`inv_inventaris_barang`.`tanggal_dihapus` AS `tanggal_dihapus`,`inv_inventaris_barang`.`alasan_penghapusan` AS `alasan_penghapusan`,`inv_inventaris_barang`.`pilihan_asal` AS `pilihan_asal`,`inv_inventaris_barang`.`waktu_dibuat` AS `waktu_dibuat`,`inv_inventaris_barang`.`terakhir_diubah` AS `terakhir_diubah`,count(`inv_inventaris_barang`.`id_inventaris_barang`) AS `jumlah`,sum(`inv_inventaris_barang`.`harga`) AS `totalharga`,`inv_inventaris_distribusi`.`id_inventaris_distribusi` AS `id_inventaris_distribusi` from ((((`inv_inventaris_barang` join `mst_inv_pilihan` on(((convert(`inv_inventaris_barang`.`pilihan_status_invetaris` using utf8) = `mst_inv_pilihan`.`code`) and (`mst_inv_pilihan`.`tipe` = 'status_inventaris')))) left join `inv_inventaris_distribusi` on((`inv_inventaris_barang`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`))) left join `cl_phc` on((`cl_phc`.`code` = convert(`inv_inventaris_distribusi`.`id_cl_phc` using utf8)))) left join `mst_inv_ruangan` on(((`mst_inv_ruangan`.`code_cl_phc` = convert(`inv_inventaris_distribusi`.`id_cl_phc` using utf8)) and (`mst_inv_ruangan`.`id_mst_inv_ruangan` = `inv_inventaris_distribusi`.`id_ruangan`)))) where (`inv_inventaris_barang`.`id_pengadaan` = 0) group by `inv_inventaris_barang`.`barang_kembar_proc`,`inv_inventaris_barang`.`id_inventaris_barang`) union (select `inv_inventaris_distribusi`.`id_ruangan` AS `id_ruangan`,`inv_inventaris_distribusi`.`id_cl_phc` AS `id_cl_phc`,`inv_inventaris_barang`.`register` AS `register`,`cl_phc`.`value` AS `puskesmas`,`mst_inv_ruangan`.`nama_ruangan` AS `nama_ruangan`,`mst_inv_pilihan`.`value` AS `value`,`inv_inventaris_barang`.`id_inventaris_barang` AS `id_inventaris_barang`,`inv_inventaris_barang`.`id_mst_inv_barang` AS `id_mst_inv_barang`,`inv_inventaris_barang`.`id_pengadaan` AS `id_pengadaan`,`inv_inventaris_barang`.`pilihan_keadaan_barang` AS `pilihan_keadaan_barang`,`inv_inventaris_barang`.`nama_barang` AS `nama_barang`,`inv_inventaris_barang`.`pilihan_komponen` AS `pilihan_komponen`,`inv_inventaris_barang`.`harga` AS `harga`,`inv_inventaris_barang`.`keterangan_pengadaan` AS `keterangan_pengadaan`,`inv_inventaris_barang`.`pilihan_status_invetaris` AS `pilihan_status_invetaris`,`inv_inventaris_barang`.`tanggal_pembelian` AS `tanggal_pembelian`,`inv_inventaris_barang`.`foto_barang` AS `foto_barang`,`inv_inventaris_barang`.`barang_kembar_proc` AS `barang_kembar_proc`,`inv_inventaris_barang`.`keterangan_inventory` AS `keterangan_inventory`,`inv_inventaris_barang`.`tanggal_pengadaan` AS `tanggal_pengadaan`,`inv_inventaris_barang`.`tanggal_diterima` AS `tanggal_diterima`,`inv_inventaris_barang`.`tanggal_dihapus` AS `tanggal_dihapus`,`inv_inventaris_barang`.`alasan_penghapusan` AS `alasan_penghapusan`,`inv_inventaris_barang`.`pilihan_asal` AS `pilihan_asal`,`inv_inventaris_barang`.`waktu_dibuat` AS `waktu_dibuat`,`inv_inventaris_barang`.`terakhir_diubah` AS `terakhir_diubah`,count(`inv_inventaris_barang`.`id_inventaris_barang`) AS `jumlah`,sum(`inv_inventaris_barang`.`harga`) AS `totalharga`,`inv_inventaris_distribusi`.`id_inventaris_distribusi` AS `id_inventaris_distribusi` from (((((`inv_inventaris_barang` join `inv_pengadaan` on(((`inv_pengadaan`.`id_pengadaan` = `inv_inventaris_barang`.`id_pengadaan`) and (`inv_pengadaan`.`pilihan_status_pengadaan` = 4)))) join `mst_inv_pilihan` on(((convert(`inv_inventaris_barang`.`pilihan_status_invetaris` using utf8) = `mst_inv_pilihan`.`code`) and (`mst_inv_pilihan`.`tipe` = 'status_inventaris')))) left join `inv_inventaris_distribusi` on((`inv_inventaris_barang`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`))) left join `cl_phc` on((`cl_phc`.`code` = convert(`inv_inventaris_distribusi`.`id_cl_phc` using utf8)))) left join `mst_inv_ruangan` on(((`mst_inv_ruangan`.`code_cl_phc` = convert(`inv_inventaris_distribusi`.`id_cl_phc` using utf8)) and (`mst_inv_ruangan`.`id_mst_inv_ruangan` = `inv_inventaris_distribusi`.`id_ruangan`)))) group by `inv_inventaris_barang`.`barang_kembar_proc`,`inv_inventaris_barang`.`id_inventaris_barang`);

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `kiba2` AS select `inv_inventaris_barang`.`nama_barang` AS `nama_barang`,`inv_inventaris_barang`.`nama_barang` AS `uraian`,count(`inv_inventaris_barang`.`id_inventaris_barang`) AS `jumlah`,sum(`inv_inventaris_barang`.`harga`) AS `totalharga`,`inv_inventaris_distribusi`.`id_inventaris_distribusi` AS `id_inventaris_distribusi`,`inv_inventaris_distribusi`.`tgl_distribusi` AS `tgl_distribusi`,`inv_inventaris_distribusi`.`id_ruangan` AS `id_ruangan`,`inv_inventaris_distribusi`.`id_cl_phc` AS `id_cl_phc`,`inv_inventaris_barang`.`register` AS `register`,`asal_usul`.`value` AS `asal_usul`,`inv_inventaris_barang`.`keterangan_pengadaan` AS `keterangan_pengadaan`,`inv_inventaris_barang`.`harga` AS `harga`,`inv_inventaris_barang`.`pilihan_status_invetaris` AS `pilihan_status_invetaris`,`inv_inventaris_barang`.`tanggal_dihapus` AS `tanggal_dihapus`,`satuan`.`value` AS `satuan`,`inv_inventaris_barang`.`pilihan_asal` AS `pilihan_asal`,`hak`.`value` AS `hak`,`penggunaan`.`value` AS `penggunaan`,`inv_inventaris_barang`.`barang_kembar_proc` AS `barang_kembar_proc`,`inv_inventaris_barang`.`id_pengadaan` AS `id_pengadaan`,`inv_inventaris_barang_a`.`id_inventaris_barang` AS `id_inventaris_barang`,`inv_inventaris_barang_a`.`id_mst_inv_barang` AS `id_mst_inv_barang`,`inv_inventaris_barang_a`.`luas` AS `luas`,`inv_inventaris_barang_a`.`alamat` AS `alamat`,`inv_inventaris_barang_a`.`pilihan_satuan_barang` AS `pilihan_satuan_barang`,`inv_inventaris_barang_a`.`pilihan_status_hak` AS `pilihan_status_hak`,`inv_inventaris_barang_a`.`status_sertifikat_tanggal` AS `status_sertifikat_tanggal`,`inv_inventaris_barang_a`.`status_sertifikat_nomor` AS `status_sertifikat_nomor`,`inv_inventaris_barang_a`.`pilihan_penggunaan` AS `pilihan_penggunaan`,`inv_inventaris_barang`.`tanggal_diterima` AS `tanggal_diterima` from (((((((`inv_inventaris_barang_a` join `inv_inventaris_distribusi` on(((`inv_inventaris_barang_a`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`) and (`inv_inventaris_distribusi`.`status` = '1')))) join `inv_inventaris_barang` on(((`inv_inventaris_barang`.`id_inventaris_barang` = `inv_inventaris_barang_a`.`id_inventaris_barang`) and (`inv_inventaris_barang`.`id_mst_inv_barang` = `inv_inventaris_barang_a`.`id_mst_inv_barang`)))) join `mst_inv_barang` on((`mst_inv_barang`.`code` = `inv_inventaris_barang_a`.`id_mst_inv_barang`))) left join `mst_inv_pilihan` `satuan` on(((convert(`inv_inventaris_barang_a`.`pilihan_satuan_barang` using utf8) = `satuan`.`code`) and (`satuan`.`tipe` = 'satuan')))) left join `mst_inv_pilihan` `hak` on(((convert(`inv_inventaris_barang_a`.`pilihan_status_hak` using utf8) = `hak`.`code`) and (`hak`.`tipe` = 'status_hak')))) left join `mst_inv_pilihan` `penggunaan` on(((convert(`inv_inventaris_barang_a`.`pilihan_penggunaan` using utf8) = `penggunaan`.`code`) and (`penggunaan`.`tipe` = 'penggunaan')))) left join `mst_inv_pilihan` `asal_usul` on(((convert(`inv_inventaris_barang`.`pilihan_asal` using utf8) = `asal_usul`.`code`) and (`asal_usul`.`tipe` = 'asal_usul')))) group by `inv_inventaris_distribusi`.`barang_kembar_inv`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `kibc2` AS select `inv_inventaris_barang`.`nama_barang` AS `nama_barang`,`inv_inventaris_barang`.`nama_barang` AS `uraian`,count(`inv_inventaris_barang`.`id_inventaris_barang`) AS `jumlah`,sum(`inv_inventaris_barang`.`harga`) AS `totalharga`,`inv_inventaris_distribusi`.`id_inventaris_distribusi` AS `id_inventaris_distribusi`,`inv_inventaris_distribusi`.`tgl_distribusi` AS `tgl_distribusi`,`inv_inventaris_distribusi`.`id_ruangan` AS `id_ruangan`,`inv_inventaris_distribusi`.`id_cl_phc` AS `id_cl_phc`,`inv_inventaris_barang`.`register` AS `register`,`asal_usul`.`value` AS `asal_usul`,`inv_inventaris_barang`.`keterangan_pengadaan` AS `keterangan_pengadaan`,`keadaan_barang`.`value` AS `keadaan_barang`,`inv_inventaris_barang`.`harga` AS `harga`,`inv_inventaris_barang`.`pilihan_status_invetaris` AS `pilihan_status_invetaris`,`inv_inventaris_barang`.`tanggal_dihapus` AS `tanggal_dihapus`,`hak`.`value` AS `hak`,`tingkat`.`value` AS `tingkat`,`beton`.`value` AS `beton`,`inv_inventaris_barang`.`barang_kembar_proc` AS `barang_kembar_proc`,`inv_inventaris_barang`.`id_pengadaan` AS `id_pengadaan`,`inv_inventaris_barang_c`.`id_inventaris_barang` AS `id_inventaris_barang`,`inv_inventaris_barang_c`.`id_mst_inv_barang` AS `id_mst_inv_barang`,`inv_inventaris_barang_c`.`luas_lantai` AS `luas_lantai`,`inv_inventaris_barang_c`.`letak_lokasi_alamat` AS `letak_lokasi_alamat`,`inv_inventaris_barang_c`.`pillihan_status_hak` AS `pillihan_status_hak`,`inv_inventaris_barang_c`.`nomor_kode_tanah` AS `nomor_kode_tanah`,`inv_inventaris_barang_c`.`pilihan_kons_tingkat` AS `pilihan_kons_tingkat`,`inv_inventaris_barang_c`.`pilihan_kons_beton` AS `pilihan_kons_beton`,`inv_inventaris_barang_c`.`dokumen_tanggal` AS `dokumen_tanggal`,`inv_inventaris_barang_c`.`dokumen_nomor` AS `dokumen_nomor`,`inv_inventaris_barang`.`pilihan_asal` AS `pilihan_asal`,`inv_inventaris_barang`.`tanggal_diterima` AS `tanggal_diterima` from ((((((((`inv_inventaris_barang_c` join `inv_inventaris_distribusi` on(((`inv_inventaris_barang_c`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`) and (`inv_inventaris_distribusi`.`status` = '1')))) join `inv_inventaris_barang` on(((`inv_inventaris_barang`.`id_inventaris_barang` = `inv_inventaris_barang_c`.`id_inventaris_barang`) and (`inv_inventaris_barang`.`id_mst_inv_barang` = `inv_inventaris_barang_c`.`id_mst_inv_barang`)))) join `mst_inv_barang` on((`mst_inv_barang`.`code` = `inv_inventaris_barang_c`.`id_mst_inv_barang`))) left join `mst_inv_pilihan` `hak` on(((convert(`inv_inventaris_barang_c`.`pillihan_status_hak` using utf8) = `hak`.`code`) and (`hak`.`tipe` = 'status_hak')))) left join `mst_inv_pilihan` `tingkat` on(((convert(`inv_inventaris_barang_c`.`pillihan_status_hak` using utf8) = `tingkat`.`code`) and (`tingkat`.`tipe` = 'kons_tingkat')))) left join `mst_inv_pilihan` `beton` on(((convert(`inv_inventaris_barang_c`.`pilihan_kons_beton` using utf8) = `beton`.`code`) and (`beton`.`tipe` = 'kons_beton')))) left join `mst_inv_pilihan` `asal_usul` on(((convert(`inv_inventaris_barang`.`pilihan_asal` using utf8) = `asal_usul`.`code`) and (`asal_usul`.`tipe` = 'asal_usul')))) left join `mst_inv_pilihan` `keadaan_barang` on(((convert(`inv_inventaris_barang`.`pilihan_keadaan_barang` using utf8) = `keadaan_barang`.`code`) and (`keadaan_barang`.`tipe` = 'keadaan_barang')))) group by `inv_inventaris_distribusi`.`barang_kembar_inv`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `kibb2` AS select count(`inv_inventaris_distribusi`.`id_inventaris_distribusi`) AS `jumlah`,`inv_inventaris_barang`.`nama_barang` AS `nama_barang`,`inv_inventaris_barang`.`nama_barang` AS `uraian`,(select `a`.`id_inventaris_distribusi` from `inv_inventaris_distribusi` `a` where (`a`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`) order by `a`.`id_inventaris_distribusi` desc limit 1) AS `id_inventaris_distribusi`,(select `a`.`tgl_distribusi` from `inv_inventaris_distribusi` `a` where (`a`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`) order by `a`.`id_inventaris_distribusi` desc limit 1) AS `tgl_distribusi`,(select `a`.`id_ruangan` from `inv_inventaris_distribusi` `a` where (`a`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`) order by `a`.`id_inventaris_distribusi` desc limit 1) AS `id_ruangan`,`inv_inventaris_barang`.`pilihan_asal` AS `pilihan_asal`,`inv_inventaris_distribusi`.`barang_kembar_inv` AS `barang_kembar_inv`,`inv_inventaris_distribusi`.`id_cl_phc` AS `id_cl_phc`,`inv_inventaris_barang`.`register` AS `register`,`asal_usul`.`value` AS `asal_usul`,`inv_inventaris_barang`.`keterangan_pengadaan` AS `keterangan_pengadaan`,`keadaan_barang`.`value` AS `keadaan_barang`,`inv_inventaris_barang`.`harga` AS `harga`,`inv_inventaris_barang`.`pilihan_status_invetaris` AS `pilihan_status_invetaris`,`inv_inventaris_barang`.`tanggal_diterima` AS `tanggal_diterima`,`inv_inventaris_barang`.`tanggal_dihapus` AS `tanggal_dihapus`,`satuan`.`value` AS `satuan`,`bahan`.`value` AS `bahan`,`inv_inventaris_barang`.`barang_kembar_proc` AS `barang_kembar_proc`,`inv_inventaris_barang`.`id_pengadaan` AS `id_pengadaan`,`inv_inventaris_barang_b`.`id_inventaris_barang` AS `id_inventaris_barang`,`inv_inventaris_barang_b`.`id_mst_inv_barang` AS `id_mst_inv_barang`,`inv_inventaris_barang_b`.`merek_type` AS `merek_type`,`inv_inventaris_barang_b`.`identitas_barang` AS `identitas_barang`,`inv_inventaris_barang_b`.`pilihan_bahan` AS `pilihan_bahan`,`inv_inventaris_barang_b`.`ukuran_barang` AS `ukuran_barang`,`inv_inventaris_barang_b`.`pilihan_satuan` AS `pilihan_satuan`,`inv_inventaris_barang_b`.`tanggal_bpkb` AS `tanggal_bpkb`,`inv_inventaris_barang_b`.`nomor_bpkb` AS `nomor_bpkb`,`inv_inventaris_barang_b`.`no_polisi` AS `no_polisi`,`inv_inventaris_barang_b`.`tanggal_perolehan` AS `tanggal_perolehan`,sum(`inv_inventaris_barang`.`harga`) AS `totalharga` from (((((((`inv_inventaris_barang_b` join `inv_inventaris_distribusi` on(((`inv_inventaris_barang_b`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`) and (`inv_inventaris_distribusi`.`status` = '1')))) join `inv_inventaris_barang` on(((`inv_inventaris_barang`.`id_inventaris_barang` = `inv_inventaris_barang_b`.`id_inventaris_barang`) and (`inv_inventaris_barang`.`id_mst_inv_barang` = `inv_inventaris_barang_b`.`id_mst_inv_barang`)))) join `mst_inv_barang` on((`mst_inv_barang`.`code` = `inv_inventaris_barang_b`.`id_mst_inv_barang`))) left join `mst_inv_pilihan` `satuan` on(((convert(`inv_inventaris_barang_b`.`pilihan_satuan` using utf8) = `satuan`.`code`) and (`satuan`.`tipe` = 'satuan')))) left join `mst_inv_pilihan` `bahan` on(((convert(`inv_inventaris_barang_b`.`pilihan_bahan` using utf8) = `bahan`.`code`) and (`bahan`.`tipe` = 'bahan')))) left join `mst_inv_pilihan` `asal_usul` on(((convert(`inv_inventaris_barang`.`pilihan_asal` using utf8) = `asal_usul`.`code`) and (`asal_usul`.`tipe` = 'asal_usul')))) left join `mst_inv_pilihan` `keadaan_barang` on(((convert(`inv_inventaris_barang`.`pilihan_keadaan_barang` using utf8) = `keadaan_barang`.`code`) and (`keadaan_barang`.`tipe` = 'keadaan_barang')))) group by `inv_inventaris_distribusi`.`id_ruangan`,`inv_inventaris_distribusi`.`barang_kembar_inv`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `kibf2` AS select `inv_inventaris_barang`.`nama_barang` AS `nama_barang`,`inv_inventaris_barang`.`nama_barang` AS `uraian`,count(`inv_inventaris_barang`.`id_inventaris_barang`) AS `jumlah`,sum(`inv_inventaris_barang`.`harga`) AS `totalharga`,`inv_inventaris_distribusi`.`id_inventaris_distribusi` AS `id_inventaris_distribusi`,`inv_inventaris_distribusi`.`tgl_distribusi` AS `tgl_distribusi`,`inv_inventaris_distribusi`.`id_ruangan` AS `id_ruangan`,`inv_inventaris_distribusi`.`id_cl_phc` AS `id_cl_phc`,`inv_inventaris_barang`.`register` AS `register`,`asal_usul`.`value` AS `asal_usul`,`inv_inventaris_barang`.`keterangan_pengadaan` AS `keterangan_pengadaan`,`keadaan_barang`.`value` AS `keadaan_barang`,`inv_inventaris_barang`.`harga` AS `harga`,`inv_inventaris_barang`.`pilihan_status_invetaris` AS `pilihan_status_invetaris`,`inv_inventaris_barang`.`tanggal_dihapus` AS `tanggal_dihapus`,`tingkat`.`value` AS `tingkat`,`beton`.`value` AS `beton`,`tanah`.`value` AS `tanah`,`inv_inventaris_barang`.`barang_kembar_proc` AS `barang_kembar_proc`,`inv_inventaris_barang`.`id_pengadaan` AS `id_pengadaan`,`inv_inventaris_barang_f`.`id_inventaris_barang` AS `id_inventaris_barang`,`inv_inventaris_barang_f`.`id_mst_inv_barang` AS `id_mst_inv_barang`,`inv_inventaris_barang_f`.`bangunan` AS `bangunan`,`inv_inventaris_barang_f`.`pilihan_konstruksi_bertingkat` AS `pilihan_konstruksi_bertingkat`,`inv_inventaris_barang_f`.`pilihan_konstruksi_beton` AS `pilihan_konstruksi_beton`,`inv_inventaris_barang_f`.`luas` AS `luas`,`inv_inventaris_barang_f`.`lokasi` AS `lokasi`,`inv_inventaris_barang_f`.`dokumen_tanggal` AS `dokumen_tanggal`,`inv_inventaris_barang_f`.`dokumen_nomor` AS `dokumen_nomor`,`inv_inventaris_barang_f`.`tanggal_mulai` AS `tanggal_mulai`,`inv_inventaris_barang_f`.`pilihan_status_tanah` AS `pilihan_status_tanah`,`inv_inventaris_barang`.`pilihan_asal` AS `pilihan_asal`,`inv_inventaris_barang`.`tanggal_diterima` AS `tanggal_diterima` from ((((((((`inv_inventaris_barang_f` join `inv_inventaris_distribusi` on(((`inv_inventaris_barang_f`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`) and (`inv_inventaris_distribusi`.`status` = '1')))) join `inv_inventaris_barang` on(((`inv_inventaris_barang`.`id_inventaris_barang` = `inv_inventaris_barang_f`.`id_inventaris_barang`) and (`inv_inventaris_barang`.`id_mst_inv_barang` = `inv_inventaris_barang_f`.`id_mst_inv_barang`)))) join `mst_inv_barang` on((`mst_inv_barang`.`code` = `inv_inventaris_barang_f`.`id_mst_inv_barang`))) left join `mst_inv_pilihan` `tingkat` on(((convert(`inv_inventaris_barang_f`.`pilihan_konstruksi_bertingkat` using utf8) = `tingkat`.`code`) and (`tingkat`.`tipe` = 'kons_tingkat')))) left join `mst_inv_pilihan` `beton` on(((convert(`inv_inventaris_barang_f`.`pilihan_konstruksi_beton` using utf8) = `beton`.`code`) and (`beton`.`tipe` = 'kons_beton')))) left join `mst_inv_pilihan` `tanah` on(((convert(`inv_inventaris_barang_f`.`pilihan_status_tanah` using utf8) = `tanah`.`code`) and (`tanah`.`tipe` = 'status_hak')))) left join `mst_inv_pilihan` `asal_usul` on(((convert(`inv_inventaris_barang`.`pilihan_asal` using utf8) = `asal_usul`.`code`) and (`asal_usul`.`tipe` = 'asal_usul')))) left join `mst_inv_pilihan` `keadaan_barang` on(((convert(`inv_inventaris_barang`.`pilihan_keadaan_barang` using utf8) = `keadaan_barang`.`code`) and (`keadaan_barang`.`tipe` = 'keadaan_barang')))) group by `inv_inventaris_distribusi`.`barang_kembar_inv`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `kibe2` AS select `inv_inventaris_barang`.`nama_barang` AS `nama_barang`,`inv_inventaris_barang`.`nama_barang` AS `uraian`,count(`inv_inventaris_barang`.`id_inventaris_barang`) AS `jumlah`,sum(`inv_inventaris_barang`.`harga`) AS `totalharga`,`inv_inventaris_distribusi`.`id_inventaris_distribusi` AS `id_inventaris_distribusi`,`inv_inventaris_distribusi`.`tgl_distribusi` AS `tgl_distribusi`,`inv_inventaris_distribusi`.`id_ruangan` AS `id_ruangan`,`inv_inventaris_distribusi`.`id_cl_phc` AS `id_cl_phc`,`inv_inventaris_barang`.`register` AS `register`,`asal_usul`.`value` AS `asal_usul`,`inv_inventaris_barang`.`pilihan_asal` AS `pilihan_asal`,`inv_inventaris_barang`.`keterangan_pengadaan` AS `keterangan_pengadaan`,`keadaan_barang`.`value` AS `keadaan_barang`,`inv_inventaris_barang`.`harga` AS `harga`,`inv_inventaris_barang`.`pilihan_status_invetaris` AS `pilihan_status_invetaris`,`inv_inventaris_barang`.`tanggal_dihapus` AS `tanggal_dihapus`,`bahan`.`value` AS `bahan`,`satuan`.`value` AS `satuan`,`inv_inventaris_barang`.`barang_kembar_proc` AS `barang_kembar_proc`,`inv_inventaris_barang`.`id_pengadaan` AS `id_pengadaan`,`inv_inventaris_barang_e`.`id_inventaris_barang` AS `id_inventaris_barang`,`inv_inventaris_barang_e`.`id_mst_inv_barang` AS `id_mst_inv_barang`,`inv_inventaris_barang_e`.`buku_judul_pencipta` AS `buku_judul_pencipta`,`inv_inventaris_barang_e`.`buku_spesifikasi` AS `buku_spesifikasi`,`inv_inventaris_barang_e`.`budaya_asal_daerah` AS `budaya_asal_daerah`,`inv_inventaris_barang_e`.`budaya_pencipta` AS `budaya_pencipta`,`inv_inventaris_barang_e`.`pilihan_budaya_bahan` AS `pilihan_budaya_bahan`,`inv_inventaris_barang_e`.`flora_fauna_jenis` AS `flora_fauna_jenis`,`inv_inventaris_barang_e`.`flora_fauna_ukuran` AS `flora_fauna_ukuran`,`inv_inventaris_barang_e`.`pilihan_satuan` AS `pilihan_satuan`,`inv_inventaris_barang_e`.`tahun_cetak_beli` AS `tahun_cetak_beli`,`inv_inventaris_barang`.`tanggal_diterima` AS `tanggal_diterima` from ((((((((`inv_inventaris_barang_e` join `inv_inventaris_distribusi` on(((`inv_inventaris_barang_e`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`) and (`inv_inventaris_distribusi`.`status` = '1')))) join `inv_inventaris_barang` on(((`inv_inventaris_barang`.`id_inventaris_barang` = `inv_inventaris_barang_e`.`id_inventaris_barang`) and (`inv_inventaris_barang`.`id_mst_inv_barang` = `inv_inventaris_barang_e`.`id_mst_inv_barang`)))) join `mst_inv_barang` on((`mst_inv_barang`.`code` = `inv_inventaris_barang_e`.`id_mst_inv_barang`))) left join `mst_inv_pilihan` `bahan` on(((convert(`inv_inventaris_barang_e`.`pilihan_budaya_bahan` using utf8) = `bahan`.`code`) and (`bahan`.`tipe` = 'bahan')))) left join `mst_inv_pilihan` `satuan` on(((convert(`inv_inventaris_barang_e`.`pilihan_satuan` using utf8) = `satuan`.`code`) and (`satuan`.`tipe` = 'satuan')))) left join `inv_pengadaan` on(((`inv_pengadaan`.`id_pengadaan` = `inv_inventaris_barang`.`id_pengadaan`) and (`inv_pengadaan`.`pilihan_status_pengadaan` = 4)))) left join `mst_inv_pilihan` `asal_usul` on(((convert(`inv_inventaris_barang`.`pilihan_asal` using utf8) = `asal_usul`.`code`) and (`asal_usul`.`tipe` = 'asal_usul')))) left join `mst_inv_pilihan` `keadaan_barang` on(((convert(`inv_inventaris_barang`.`pilihan_keadaan_barang` using utf8) = `keadaan_barang`.`code`) and (`keadaan_barang`.`tipe` = 'keadaan_barang')))) group by `inv_inventaris_distribusi`.`id_ruangan`,`inv_inventaris_distribusi`.`barang_kembar_inv`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `kibd2` AS select `inv_inventaris_barang`.`nama_barang` AS `nama_barang`,`inv_inventaris_barang`.`nama_barang` AS `uraian`,count(`inv_inventaris_barang`.`id_inventaris_barang`) AS `jumlah`,sum(`inv_inventaris_barang`.`harga`) AS `totalharga`,`inv_inventaris_distribusi`.`id_inventaris_distribusi` AS `id_inventaris_distribusi`,`inv_inventaris_distribusi`.`tgl_distribusi` AS `tgl_distribusi`,`inv_inventaris_distribusi`.`id_ruangan` AS `id_ruangan`,`inv_inventaris_distribusi`.`id_cl_phc` AS `id_cl_phc`,`inv_inventaris_barang`.`register` AS `register`,`asal_usul`.`value` AS `asal_usul`,`inv_inventaris_barang`.`keterangan_pengadaan` AS `keterangan_pengadaan`,`keadaan_barang`.`value` AS `keadaan_barang`,`inv_inventaris_barang`.`harga` AS `harga`,`inv_inventaris_barang`.`pilihan_status_invetaris` AS `pilihan_status_invetaris`,`inv_inventaris_barang`.`tanggal_dihapus` AS `tanggal_dihapus`,`tanah`.`value` AS `tanah`,`inv_inventaris_barang`.`barang_kembar_proc` AS `barang_kembar_proc`,`inv_inventaris_barang`.`id_pengadaan` AS `id_pengadaan`,`inv_inventaris_barang_d`.`id_inventaris_barang` AS `id_inventaris_barang`,`inv_inventaris_barang_d`.`id_mst_inv_barang` AS `id_mst_inv_barang`,`inv_inventaris_barang_d`.`konstruksi` AS `konstruksi`,`inv_inventaris_barang_d`.`panjang` AS `panjang`,`inv_inventaris_barang_d`.`lebar` AS `lebar`,`inv_inventaris_barang_d`.`luas` AS `luas`,`inv_inventaris_barang_d`.`letak_lokasi_alamat` AS `letak_lokasi_alamat`,`inv_inventaris_barang_d`.`dokumen_tanggal` AS `dokumen_tanggal`,`inv_inventaris_barang_d`.`dokumen_nomor` AS `dokumen_nomor`,`inv_inventaris_barang_d`.`pilihan_status_tanah` AS `pilihan_status_tanah`,`inv_inventaris_barang_d`.`nomor_kode_tanah` AS `nomor_kode_tanah`,`inv_inventaris_barang`.`pilihan_asal` AS `pilihan_asal`,`inv_inventaris_barang`.`tanggal_diterima` AS `tanggal_diterima` from ((((((`inv_inventaris_barang_d` join `inv_inventaris_distribusi` on(((`inv_inventaris_barang_d`.`id_inventaris_barang` = `inv_inventaris_distribusi`.`id_inventaris_barang`) and (`inv_inventaris_distribusi`.`status` = '1')))) join `inv_inventaris_barang` on(((`inv_inventaris_barang`.`id_inventaris_barang` = `inv_inventaris_barang_d`.`id_inventaris_barang`) and (`inv_inventaris_barang`.`id_mst_inv_barang` = `inv_inventaris_barang_d`.`id_mst_inv_barang`)))) join `mst_inv_barang` on((`mst_inv_barang`.`code` = `inv_inventaris_barang_d`.`id_mst_inv_barang`))) left join `mst_inv_pilihan` `tanah` on(((convert(`inv_inventaris_barang_d`.`pilihan_status_tanah` using utf8) = `tanah`.`code`) and (`tanah`.`tipe` = 'status_hak')))) left join `mst_inv_pilihan` `asal_usul` on(((convert(`inv_inventaris_barang`.`pilihan_asal` using utf8) = `asal_usul`.`code`) and (`asal_usul`.`tipe` = 'asal_usul')))) left join `mst_inv_pilihan` `keadaan_barang` on(((convert(`inv_inventaris_barang`.`pilihan_keadaan_barang` using utf8) = `keadaan_barang`.`code`) and (`keadaan_barang`.`tipe` = 'keadaan_barang')))) group by `inv_inventaris_distribusi`.`barang_kembar_inv`;
